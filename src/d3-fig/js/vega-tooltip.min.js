!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.vegaTooltip=t()}}(function(){var t;return function t(e,n,r){function i(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=d.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",u=!!e[5],a=e[6]&&+e[6],c=!!e[7],s=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(c=!0,f="g"):h[f]||(f=""),(u||"0"===n&&"="===r)&&(u=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function r(e){return p=g(e),t.format=p.format,t.formatPrefix=p.formatPrefix,p}var i,o=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},u=function(t){return t=o(Math.abs(t)),t?t[1]:NaN},a=function(t,e){return function(n,r){for(var i=n.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(e)}},c=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},s=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},f=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],u=n[1],a=u-(i=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,c=r.length;return a===c?r:a>c?r+new Array(a-c+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+o(t,Math.max(0,e+a-1))[0]},l=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},h={"":s,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return l(100*t,e)},r:l,s:f,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},d=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var p,m=function(t){return t},v=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],g=function(t){function n(t){function n(t){var e,n,c,s=w,h=T;if("c"===_)h=M(t)+h,t="";else{t=+t;var d=t<0;if(t=M(Math.abs(t),y),d&&0===+t&&(d=!1),s=(d?"("===a?a:"-":"-"===a||"("===a?"":a)+s,h=h+("s"===_?v[8+i/3]:"")+(d&&"("===a?")":""),x)for(e=-1,n=t.length;++e<n;)if(c=t.charCodeAt(e),48>c||c>57){h=(46===c?f+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}g&&!p&&(t=o(t,1/0));var D=s.length+t.length+h.length,F=D<m?new Array(m-D+1).join(r):"";switch(g&&p&&(t=o(F+t,F.length?m-h.length:1/0),F=""),u){case"<":t=s+t+h+F;break;case"=":t=s+F+t+h;break;case"^":t=F.slice(0,D=F.length>>1)+s+t+h+F.slice(D);break;default:t=F+s+t+h}return l(t)}t=e(t);var r=t.fill,u=t.align,a=t.sign,c=t.symbol,p=t.zero,m=t.width,g=t.comma,y=t.precision,_=t.type,w="$"===c?s[0]:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T="$"===c?s[1]:/[%p]/.test(_)?d:"",M=h[_],x=!_||/[defgprs%]/.test(_);return y=null==y?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),n.toString=function(){return t+""},n}function r(t,r){var i=n((t=e(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(u(r)/3))),a=Math.pow(10,-o),c=v[8+o/3];return function(t){return i(a*t)+c}}var o=t.grouping&&t.thousands?a(t.grouping,t.thousands):m,s=t.currency,f=t.decimal,l=t.numerals?c(t.numerals):m,d=t.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(t){return Math.max(0,-u(Math.abs(t)))},_=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(u(e)/3)))-u(Math.abs(t)))},w=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,u(e)-u(t))+1};t.formatDefaultLocale=r,t.formatLocale=g,t.formatSpecifier=e,t.precisionFixed=y,t.precisionPrefix=_,t.precisionRound=w,Object.defineProperty(t,"__esModule",{value:!0})})},{}],2:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){return new i}function i(){this._="@"+(++rt).toString(36)}function o(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function a(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function c(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function s(t,e,n){var r=ct.hasOwnProperty(t.type)?o:u;return function(i,o,u){var a,c=this.__on,s=r(e,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=n),void(a.value=e);this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(a):this.__on=[a]}}function f(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function l(){}function h(){return[]}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function p(t,e,n,r,i,o){for(var u,a=0,c=e.length,s=o.length;a<s;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new d(t,o[a]);for(;a<c;++a)(u=e[a])&&(i[a]=u)}function m(t,e,n,r,i,o,u){var a,c,s,f={},l=e.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=e[a])&&(p[a]=s=Mt+u.call(c,c.__data__,a,e),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)s=Mt+u.call(t,o[a],a,o),(c=f[s])?(r[a]=c,c.__data__=o[a],f[s]=null):n[a]=new d(t,o[a]);for(a=0;a<l;++a)(c=e[a])&&f[p[a]]===c&&(i[a]=c)}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function g(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _(t,e){return function(){this.setAttribute(t,e)}}function w(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function M(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function x(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function F(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function b(t,e){return t.style.getPropertyValue(e)||Pt(t).getComputedStyle(t,null).getPropertyValue(e)}function A(t){return function(){delete this[t]}}function C(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function U(t){return t.trim().split(/^|\s+/)}function L(t){return t.classList||new E(t)}function E(t){this._node=t,this._names=U(t.getAttribute("class")||"")}function O(t,e){for(var n=L(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Y(t,e){for(var n=L(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function P(t){return function(){O(this,t)}}function H(t){return function(){Y(this,t)}}function N(t,e){return function(){(e.apply(this,arguments)?O:Y)(this,t)}}function I(){this.textContent=""}function j(t){return function(){this.textContent=t}}function k(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function R(){this.innerHTML=""}function W(t){return function(){this.innerHTML=t}}function q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function B(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V(){return null}function X(){var t=this.parentNode;t&&t.removeChild(this)}function Z(t,e,n){var r=Pt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $(t,e){return function(){return Z(this,t,e)}}function J(t,e){return function(){return Z(this,t,e.apply(this,arguments))}}function G(t,e){this._groups=t,this._parents=e}function Q(){return new G([[document.documentElement]],Zt)}var K="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},et=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),tt.hasOwnProperty(e)?{space:tt[e],local:t}:t},nt=function(t){var r=et(t);return(r.local?n:e)(r)},rt=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var it=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ot=document.documentElement;if(!ot.matches){var ut=ot.webkitMatchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.oMatchesSelector;it=function(t){return function(){return ut.call(this,t)}}}}var at=it,ct={};if(t.event=null,"undefined"!=typeof document){var st=document.documentElement;"onmouseenter"in st||(ct={mouseenter:"mouseover",mouseleave:"mouseout"})}var ft=function(t,e,n){var r,i,o=a(t+""),u=o.length;if(!(arguments.length<2)){for(f=e?s:c,null==n&&(n=!1),r=0;r<u;++r)this.each(f(o[r],e,n));return this}var f=this.node().__on;if(f)for(var l,h=0,d=f.length;h<d;++h)for(r=0,l=f[h];r<u;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},lt=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ht=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},dt=function(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),ht(t,e)},pt=function(t){return null==t?l:function(){return this.querySelector(t)}},mt=function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new G(r,this._parents)},vt=function(t){return null==t?h:function(){return this.querySelectorAll(t)}},gt=function(t){"function"!=typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new G(r,i)},yt=function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new G(r,this._parents)},_t=function(t){return new Array(t.length)},wt=function(){return new G(this._enter||this._groups.map(_t),this._parents)};d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Tt=function(t){return function(){return t}},Mt="$",xt=function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var n=e?m:p,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Tt(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,d=t.call(f,f&&f.__data__,s,r),v=d.length,g=a[s]=new Array(v),y=u[s]=new Array(v),_=c[s]=new Array(h);n(f,l,g,y,_,d,e);for(var w,T,M=0,x=0;M<v;++M)if(w=g[M]){for(M>=x&&(x=M+1);!(T=y[x])&&++x<v;);w._next=T||null}}return u=new G(u,r),u._enter=a,u._exit=c,u},Dt=function(){return new G(this._exit||this._groups.map(_t),this._parents)},Ft=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=e[a],f=n[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=e[a];return new G(u,this._parents)},bt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},At=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=v);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(e)}return new G(i,this._parents).order()},Ct=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},St=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Ut=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},Lt=function(){var t=0;return this.each(function(){++t}),t},Et=function(){return!this.node()},Ot=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},Yt=function(t,e){var n=et(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?y:g:"function"==typeof e?n.local?M:T:n.local?w:_)(n,e))},Pt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Ht=function(t,e,n){return arguments.length>1?this.each((null==e?x:"function"==typeof e?F:D)(t,e,null==n?"":n)):b(this.node(),t)},Nt=function(t,e){return arguments.length>1?this.each((null==e?A:"function"==typeof e?S:C)(t,e)):this.node()[t]};E.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var It=function(t,e){var n=U(t+"");if(arguments.length<2){for(var r=L(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?N:e?P:H)(n,e))},jt=function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?k:j)(t)):this.node().textContent},kt=function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?q:W)(t)):this.node().innerHTML},Rt=function(){return this.each(z)},Wt=function(){return this.each(B)},qt=function(t){var e="function"==typeof t?t:nt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},zt=function(t,e){var n="function"==typeof t?t:nt(t),r=null==e?V:"function"==typeof e?e:pt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Bt=function(){return this.each(X)},Vt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Xt=function(t,e){return this.each(("function"==typeof e?J:$)(t,e))},Zt=[null];G.prototype=Q.prototype={constructor:G,select:mt,selectAll:gt,filter:yt,data:xt,enter:wt,exit:Dt,merge:Ft,order:bt,sort:At,call:Ct,nodes:St,node:Ut,size:Lt,empty:Et,each:Ot,attr:Yt,style:Ht,property:Nt,classed:It,text:jt,html:kt,raise:Rt,lower:Wt,append:qt,insert:zt,remove:Bt,datum:Vt,on:ft,dispatch:Xt};var $t=function(t){return"string"==typeof t?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],Zt)},Jt=function(t){return"string"==typeof t?new G([document.querySelectorAll(t)],[document.documentElement]):new G([null==t?[]:t],Zt)},Gt=function(t,e,n){arguments.length<3&&(n=e,e=lt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ht(t,r);return null},Qt=function(t,e){null==e&&(e=lt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=ht(t,e[n]);return i};t.creator=nt,t.local=r,t.matcher=at,t.mouse=dt,t.namespace=et,t.namespaces=tt,t.select=$t,t.selectAll=Jt,t.selection=Q,t.selector=pt,t.selectorAll=vt,t.style=b,t.touch=Gt,t.touches=Qt,t.window=Pt,t.customEvent=f,Object.defineProperty(t,"__esModule",{value:!0})})},{}],3:[function(e,n,r){!function(i,o){"object"==typeof r&&"undefined"!=typeof n?o(r,e("d3-time")):"function"==typeof t&&t.amd?t(["exports","d3-time"],o):o(i.d3=i.d3||{},i.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,u=[],a=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=rt[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function o(t,e){return function(n){var o=i(1900),a=u(o,t,n+="",0);if(a!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var c="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(c+5)%7:o.w+7*o.U-(c+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function u(t,e,n,r){for(var i,o,u=0,a=e.length,c=n.length;u<a;){if(r>=c)return-1;if(i=e.charCodeAt(u++),37===i){if(i=e.charAt(u++),o=Nt[i in rt?e.charAt(u++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function a(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.p=bt[r[0].toLowerCase()],n+r[0].length):-1}function K(t,e,n){var r=St.exec(e.slice(n));return r?(t.w=Ut[r[0].toLowerCase()],n+r[0].length):-1}function tt(t,e,n){var r=At.exec(e.slice(n));return r?(t.w=Ct[r[0].toLowerCase()],n+r[0].length):-1}function et(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.m=Yt[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.m=Et[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return u(t,gt,e,n)}function ot(t,e,n){return u(t,yt,e,n)}function ut(t,e,n){return u(t,_t,e,n)}function at(t){return Mt[t.getDay()]}function ct(t){return Tt[t.getDay()]}function st(t){return Dt[t.getMonth()]}function ft(t){return xt[t.getMonth()]}function lt(t){return wt[+(t.getHours()>=12)]}function ht(t){return Mt[t.getUTCDay()]}function dt(t){return Tt[t.getUTCDay()]}function pt(t){return Dt[t.getUTCMonth()]}function mt(t){return xt[t.getUTCMonth()]}function vt(t){return wt[+(t.getUTCHours()>=12)]}var gt=t.dateTime,yt=t.date,_t=t.time,wt=t.periods,Tt=t.days,Mt=t.shortDays,xt=t.months,Dt=t.shortMonths,Ft=c(wt),bt=s(wt),At=c(Tt),Ct=s(Tt),St=c(Mt),Ut=s(Mt),Lt=c(xt),Et=s(xt),Ot=c(Dt),Yt=s(Dt),Pt={a:at,A:ct,b:st,B:ft,c:null,d:D,e:D,H:F,I:b,j:A,L:C,m:S,M:U,p:lt,S:L,U:E,w:O,W:Y,x:null,X:null,y:P,Y:H,Z:N,"%":Q},Ht={a:ht,A:dt,b:pt,B:mt,c:null,d:I,e:I,H:j,I:k,j:R,L:W,m:q,M:z,p:vt,S:B,U:V,w:X,W:Z,x:null,X:null,y:$,Y:J,Z:G,"%":Q},Nt={a:K,A:tt,b:et,B:nt,c:it,d:g,e:g,H:_,I:_,j:y,L:M,m:v,M:w,p:a,S:T,U:l,w:f,W:h,x:ot,X:ut,y:p,Y:d,Z:m,"%":x};return Pt.x=e(yt,Pt),Pt.X=e(_t,Pt),Pt.c=e(gt,Pt),Ht.x=e(yt,Ht),Ht.X=e(_t,Ht),Ht.c=e(gt,Ht),{format:function(t){var n=e(t+="",Pt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Ht);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function u(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function a(t){return t.replace(ut,"\\$&")}function c(t){return new RegExp("^(?:"+t.map(a).join("|")+")","i")}function s(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function f(t,e,n){var r=it.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function l(t,e,n){var r=it.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function h(t,e,n){var r=it.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d(t,e,n){var r=it.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function p(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function v(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function y(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function w(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function T(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function M(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function x(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function D(t,e){return u(t.getDate(),e,2)}function F(t,e){return u(t.getHours(),e,2)}function b(t,e){return u(t.getHours()%12||12,e,2)}function A(t,n){return u(1+e.timeDay.count(e.timeYear(t),t),n,3)}function C(t,e){return u(t.getMilliseconds(),e,3)}function S(t,e){return u(t.getMonth()+1,e,2)}function U(t,e){return u(t.getMinutes(),e,2)}function L(t,e){return u(t.getSeconds(),e,2)}function E(t,n){return u(e.timeSunday.count(e.timeYear(t),t),n,2)}function O(t){return t.getDay()}function Y(t,n){return u(e.timeMonday.count(e.timeYear(t),t),n,2)}function P(t,e){return u(t.getFullYear()%100,e,2)}function H(t,e){return u(t.getFullYear()%1e4,e,4)}function N(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+u(e/60|0,"0",2)+u(e%60,"0",2)}function I(t,e){return u(t.getUTCDate(),e,2)}function j(t,e){return u(t.getUTCHours(),e,2)}function k(t,e){return u(t.getUTCHours()%12||12,e,2)}function R(t,n){return u(1+e.utcDay.count(e.utcYear(t),t),n,3)}function W(t,e){return u(t.getUTCMilliseconds(),e,3)}function q(t,e){return u(t.getUTCMonth()+1,e,2)}function z(t,e){return u(t.getUTCMinutes(),e,2)}function B(t,e){return u(t.getUTCSeconds(),e,2)}function V(t,n){return u(e.utcSunday.count(e.utcYear(t),t),n,2)}function X(t){return t.getUTCDay()}function Z(t,n){return u(e.utcMonday.count(e.utcYear(t),t),n,2)}function $(t,e){return u(t.getUTCFullYear()%100,e,2)}function J(t,e){return u(t.getUTCFullYear()%1e4,e,4)}function G(){return"+0000"}function Q(){return"%"}function K(e){return nt=o(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,rt={"-":"",_:" ",0:"0"},it=/^\s*\d+/,ot=/^%/,ut=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;K({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var at="%Y-%m-%dT%H:%M:%S.%LZ",ct=Date.prototype.toISOString?tt:t.utcFormat(at),st=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse(at);t.timeFormatDefaultLocale=K,t.timeFormatLocale=o,t.isoFormat=ct,t.isoParse=st,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":4}],4:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3=e.d3||{})}(this,function(t){"use strict";function e(t,n,r,u){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(e,r,i){var o=[];if(e=a.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do o.push(new Date(+e));while(n(e,i),t(e),e<r);return o},a.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(a.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(u?function(e){return u(e)%t===0}:function(e){return a.count(0,e)%t===0}):a:null}),a}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/h})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/h})}var i=new Date,o=new Date,u=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):u:null};var a=u.range,c=1e3,s=6e4,f=36e5,l=864e5,h=6048e5,d=e(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCSeconds()}),p=d.range,m=e(function(t){t.setTime(Math.floor(t/s)*s)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getMinutes()}),v=m.range,g=e(function(t){var e=t.getTimezoneOffset()*s%f;e<0&&(e+=f),t.setTime(Math.floor((+t-e)/f)*f+e)},function(t,e){t.setTime(+t+e*f)},function(t,e){return(e-t)/f},function(t){return t.getHours()}),y=g.range,_=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/l},function(t){return t.getDate()-1}),w=_.range,T=n(0),M=n(1),x=n(2),D=n(3),F=n(4),b=n(5),A=n(6),C=T.range,S=M.range,U=x.range,L=D.range,E=F.range,O=b.range,Y=A.range,P=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),H=P.range,N=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});N.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var I=N.range,j=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getUTCMinutes()}),k=j.range,R=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*f)},function(t,e){return(e-t)/f},function(t){return t.getUTCHours()}),W=R.range,q=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/l},function(t){return t.getUTCDate()-1}),z=q.range,B=r(0),V=r(1),X=r(2),Z=r(3),$=r(4),J=r(5),G=r(6),Q=B.range,K=V.range,tt=X.range,et=Z.range,nt=$.range,rt=J.range,it=G.range,ot=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),ut=ot.range,at=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});at.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ct=at.range;t.timeInterval=e,t.timeMillisecond=u,t.timeMilliseconds=a,t.utcMillisecond=u,t.utcMilliseconds=a,t.timeSecond=d,t.timeSeconds=p,t.utcSecond=d,t.utcSeconds=p,t.timeMinute=m,t.timeMinutes=v,t.timeHour=g,t.timeHours=y,t.timeDay=_,t.timeDays=w,t.timeWeek=T,t.timeWeeks=C,t.timeSunday=T,t.timeSundays=C,t.timeMonday=M,t.timeMondays=S,t.timeTuesday=x,t.timeTuesdays=U,t.timeWednesday=D,t.timeWednesdays=L,t.timeThursday=F,t.timeThursdays=E,t.timeFriday=b,t.timeFridays=O,t.timeSaturday=A,t.timeSaturdays=Y,t.timeMonth=P,t.timeMonths=H,t.timeYear=N,t.timeYears=I,t.utcMinute=j,t.utcMinutes=k,t.utcHour=R,t.utcHours=W,t.utcDay=q,t.utcDays=z,t.utcWeek=B,t.utcWeeks=Q,t.utcSunday=B,t.utcSundays=Q,t.utcMonday=V,t.utcMondays=K,t.utcTuesday=X,t.utcTuesdays=tt,t.utcWednesday=Z,t.utcWednesdays=et,t.utcThursday=$,t.utcThursdays=nt,t.utcFriday=J,t.utcFridays=rt,t.utcSaturday=G,t.utcSaturdays=it,t.utcMonth=ot,t.utcMonths=ut,t.utcYear=at,t.utcYears=ct,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,e,n){"use strict";function r(t){if(t)switch(t=t.toLowerCase()){case"q":case n.QUANTITATIVE:return"quantitative";case"t":case n.TEMPORAL:return"temporal";case"o":case n.ORDINAL:return"ordinal";case"n":case n.NOMINAL:return"nominal"}}Object.defineProperty(n,"__esModule",{value:!0});var i;!function(t){t.QUANTITATIVE="quantitative",t.ORDINAL="ordinal",t.TEMPORAL="temporal",t.NOMINAL="nominal"}(i=n.Type||(n.Type={})),n.QUANTITATIVE=i.QUANTITATIVE,n.ORDINAL=i.ORDINAL,n.TEMPORAL=i.TEMPORAL,n.NOMINAL=i.NOMINAL,n.getFullName=r},{}],6:[function(t,e,n){"use strict";function r(t,e,n){
if(void 0!==t&&null!==t&&e)switch(e){case"time":return n?s.timeFormat(n)(t):u(t);case"number":return n?a.format(n)(t):o(t);case"string":default:return t}}function i(t){return"number"==typeof t?o(t):t instanceof Date?u(t):t}function o(t){return t%1===0?a.format(",")(t):a.format(",.2f")(t)}function u(t){var e=s.timeFormat(".%L"),n=s.timeFormat(":%S"),r=s.timeFormat("%I:%M"),i=s.timeFormat("%I %p"),o=s.timeFormat("%a %d"),u=s.timeFormat("%b %d"),a=s.timeFormat("%B"),f=s.timeFormat("%Y");return(c.timeSecond(t)<t?e:c.timeMinute(t)<t?n:c.timeHour(t)<t?r:c.timeDay(t)<t?i:c.timeMonth(t)<t?c.timeWeek(t)<t?o:u:c.timeYear(t)<t?a:f)(t)}Object.defineProperty(n,"__esModule",{value:!0});var a=t("d3-format"),c=t("d3-time"),s=t("d3-time-format");n.customFormat=r,n.autoFormat=i,n.autoNumberFormat=o,n.autoTimeFormat=u},{"d3-format":1,"d3-time":4,"d3-time-format":3}],7:[function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e={showAllFields:!0}),o(t,l(e)),{destroy:function(){t.removeEventListener("mouseover.tooltipInit"),t.removeEventListener("mousemove.tooltipUpdate"),t.removeEventListener("mouseout.tooltipRemove"),u()}}}function i(t,e,n){return void 0===n&&(n={showAllFields:!0}),n=m.supplementOptions(l(n),e),o(t,n),{destroy:function(){t.removeEventListener("mouseover.tooltipInit"),t.removeEventListener("mousemove.tooltipUpdate"),t.removeEventListener("mouseout.tooltipRemove"),u()}}}function o(t,e){t.addEventListener("mouseover.tooltipInit",function(t,n){f(n)&&(u(),g=window.setTimeout(function(){a(t,n,e)},e.delay||d.DELAY))}),t.addEventListener("mousemove.tooltipUpdate",function(t,n){f(n)&&y&&c(t,n,e)}),t.addEventListener("mouseout.tooltipRemove",function(t,n){f(n)&&(u(),y&&s(t,n,e))})}function u(){window.clearTimeout(g),g=void 0}function a(t,e,n){var r=v.getTooltipPlaceholder(),i=p.getTooltipData(e,n);i&&0!==i.length&&(v.bindData(r,i),v.updatePosition(t,n),v.updateColorTheme(n),h.select("#vis-tooltip").style("visibility","visible"),y=!0,n.onAppear&&n.onAppear(t,e))}function c(t,e,n){f(e)&&(v.updatePosition(t,n),n.onMove&&n.onMove(t,e))}function s(t,e,n){f(e)&&(h.select("#vis-tooltip").style("visibility","hidden"),y=!1,v.clearData(),v.clearColorTheme(),v.clearPosition(),n.onDisappear&&n.onDisappear(t,e))}function f(t){return!(!t||!t.datum)&&!t.datum._facetID}function l(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(n,"__esModule",{value:!0});var h=t("d3-selection"),d=t("./options"),p=t("./parseOption"),m=t("./supplementField"),v=t("./tooltipDisplay"),g=void 0,y=!1;n.vega=r,n.vegaLite=i},{"./options":8,"./parseOption":9,"./supplementField":10,"./tooltipDisplay":11,"d3-selection":2}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DELAY=100},{}],9:[function(t,e,n){"use strict";function r(t,e){if("group"!==t.mark.marktype||"nested_main_group"!==t.mark.name){var n,r={};for(var o in t.datum)t.datum.hasOwnProperty(o)&&(r[o]=t.datum[o]);var l=["_id","_prev","width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"];return a(r,l),c(r,e.fields),s(r,e.fields),f(t.mark.marktype,r),n=e.showAllFields===!0?u(r,e):i(r,e)}}function i(t,e){var n=[];return e.fields.forEach(function(e){var r=e.title?e.title:e.field,i=o(t,e.field);if(void 0!==i){var u=l.customFormat(i,e.formatType,e.format)||l.autoFormat(i);n.push({title:r,value:u})}}),n}function o(t,e){var n,r=e.split("."),i=r[0];return r.shift(),t[i]&&(n=t[i],r.forEach(function(t){n[t]&&(n=n[t])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+e+" in data."):n}function u(t,e){var n=[],r={};if(e&&e.fields)for(var i=0,o=e.fields;i<o.length;i++){var u=o[i];r[u.field]=u}for(var a in t)if(t.hasOwnProperty(a)){var c=t[a],s=void 0;s=r[a]&&r[a].title?r[a].title:a;var f=void 0,h=void 0;r[a]&&(f=r[a].formatType,h=r[a].format);var d=l.customFormat(c,f,h)||l.autoFormat(c);n.push({title:s,value:d})}return n}function a(t,e){e.forEach(function(e){delete t[e]})}function c(t,e){e&&e.forEach(function(e){e.removeOriginalTemporalField&&a(t,[e.removeOriginalTemporalField])})}function s(t,e){if(e)return e.forEach(function(e){if(e.bin===!0){var n=e.field,r=n.concat("_start"),i=n.concat("_mid"),o=n.concat("_end"),u=t[r],c=t[o];if(void 0!==u&&void 0!==c){var s=u+"-"+c;t[n]=s}var f=[];f.push(r,i,o),a(t,f)}}),t}function f(t,e){if("line"===t||"area"===t){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];i instanceof Date&&n.push(r)}a(e,n)}}Object.defineProperty(n,"__esModule",{value:!0});var l=t("./formatFieldValue");n.getTooltipData=r,n.prepareCustomFieldsData=i,n.getValue=o,n.prepareAllFieldsData=u,n.removeFields=a,n.removeDuplicateTimeFields=c,n.combineBinFields=s,n.dropFieldsForLineArea=f},{"./formatFieldValue":6}],10:[function(t,e,n){(function(e){"use strict";function r(t,e){var n=[];return t.showAllFields!==!1?a.spec.fieldDefs(e).forEach(function(r){var o=i(t.fields,r),a=u(o,r,e);n.push(a)}):t.fields&&t.fields.forEach(function(t){var r=o(a.spec.fieldDefs(e),t),i=u(t,r,e);n.push(i)}),t.fields=n,t}function i(t,e){if(e&&t&&!(t.length<=0))if(e.aggregate){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.field===e.field&&i.aggregate===e.aggregate)return i}for(var o=0,u=t;o<u.length;o++){var i=u[o];if(i.field===e.field&&!i.aggregate)return i}}else for(var a=0,c=t;a<c.length;a++){var i=c[a];if(i.field===e.field)return i}}function o(t,e){if(e&&e.field&&t)for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.field===e.field){if(!i.aggregate)return i;if(i.aggregate===e.aggregate||!e.aggregate)return i}}}function u(t,e,n){var r=a.util.extend({},n.config);if(!t&&!e)return void console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.");!t&&e&&(t={}),t&&!e&&(e={});var i={};if(i.field=e.field?a.fieldDef.field(e):t.field,e.type===c.TEMPORAL&&e.timeUnit){var o=e.field;i.removeOriginalTemporalField=o;for(var u=a.spec.fieldDefs(n),f=0,l=u;f<l.length;f++){var h=l[f];if(h.field===o&&!h.timeUnit){i.removeOriginalTemporalField=void 0;break}}}if(r.countTitle||(r.countTitle=a.config.defaultConfig.countTitle),i.title=t.title?t.title:a.fieldDef.title(e,r),i.formatType=t.formatType?t.formatType:s[e.type],t.format)i.format=t.format;else switch(i.formatType){case"time":i.format=e.timeUnit?a.timeUnit.formatExpression(e.timeUnit,"",!1,!1).split("'")[1]:r.timeFormat||a.config.defaultConfig.timeFormat;break;case"number":i.format=r.numberFormat;break;case"string":}return e.bin&&(i.field=i.field.replace("_start","_range"),i.bin=!0,i.formatType="string"),i}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.vl:"undefined"!=typeof e?e.vl:null,c=t("vega-lite/build/src/type"),s={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};n.supplementOptions=r,n.getFieldOption=i,n.getFieldDef=o,n.supplementFieldOption=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"vega-lite/build/src/type":5}],11:[function(t,e,n){"use strict";function r(){var t;return t=f.select("#vis-tooltip").empty()?f.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):f.select("#vis-tooltip")}function i(t,e){t.selectAll("table").remove();var n=t.append("table").selectAll(".tooltip-row").data(e);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(t){return t.title+":"}),r.append("td").attr("class","value").text(function(t){return t.value})}function o(){f.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()}function u(t,e){var n=10,r=10;e&&e.offset&&void 0!==e.offset.x&&null!==e.offset.x&&(n=e.offset.x),e&&e.offset&&void 0!==e.offset.y&&null!==e.offset.y&&(r=e.offset.y),f.select("#vis-tooltip").style("top",function(){var e=this.getBoundingClientRect().height;return t.clientY+e+r<window.innerHeight?""+(t.clientY+r)+"px":""+(t.clientY-e-r)+"px"}).style("left",function(){var e=this.getBoundingClientRect().width;return t.clientX+e+n<window.innerWidth?""+(t.clientX+n)+"px":""+(t.clientX-e-n)+"px"})}function a(){f.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")}function c(t){s(),t&&"dark"===t.colorTheme?f.select("#vis-tooltip").classed("dark-theme",!0):f.select("#vis-tooltip").classed("light-theme",!0)}function s(){f.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(n,"__esModule",{value:!0});var f=t("d3-selection");n.getTooltipPlaceholder=r,n.bindData=i,n.clearData=o,n.updatePosition=u,n.clearPosition=a,n.updateColorTheme=c,n.clearColorTheme=s},{"d3-selection":2}]},{},[7])(7)});
//# sourceMappingURL=vega-tooltip.min.js.map